
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../usage/">
      
      
        <link rel="next" href="../automate/">
      
      
        
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>Installation - S.O. Conda</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.484c7ddc.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#creating-a-simons-observatory-environment" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="S.O. Conda" class="md-header__button md-logo" aria-label="S.O. Conda" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            S.O. Conda
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Installation
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="S.O. Conda" class="md-nav__button md-logo" aria-label="S.O. Conda" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    S.O. Conda
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Introduction
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../usage/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Use and Customization
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    Installation
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    Installation
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#base-conda-environment" class="md-nav__link">
    <span class="md-ellipsis">
      
        Base Conda Environment
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#special-note-on-mpi4py" class="md-nav__link">
    <span class="md-ellipsis">
      
        Special Note on mpi4py
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#install-soconda" class="md-nav__link">
    <span class="md-ellipsis">
      
        Install soconda
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Install soconda">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example-local-system" class="md-nav__link">
    <span class="md-ellipsis">
      
        Example: Local System
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-nersc" class="md-nav__link">
    <span class="md-ellipsis">
      
        Example: NERSC
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#running-tests" class="md-nav__link">
    <span class="md-ellipsis">
      
        Running Tests
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#installing-a-jupyter-kernel-for-external-jupyter-server" class="md-nav__link">
    <span class="md-ellipsis">
      
        Installing a Jupyter Kernel for external Jupyter server
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#customizing-an-environment" class="md-nav__link">
    <span class="md-ellipsis">
      
        Customizing an Environment
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deleting-an-environment" class="md-nav__link">
    <span class="md-ellipsis">
      
        Deleting an Environment
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#advanced-details" class="md-nav__link">
    <span class="md-ellipsis">
      
        Advanced Details
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Advanced Details">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pixell" class="md-nav__link">
    <span class="md-ellipsis">
      
        Pixell
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#libactpol-moby2" class="md-nav__link">
    <span class="md-ellipsis">
      
        Libactpol / Moby2
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#so3g" class="md-nav__link">
    <span class="md-ellipsis">
      
        So3g
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#toast" class="md-nav__link">
    <span class="md-ellipsis">
      
        TOAST
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../automate/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Automated Deployment
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../dev/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Developer Notes
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="https://github.com/simonsobs/soconda" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Source on GitHub
  

    
  </span>
  
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#base-conda-environment" class="md-nav__link">
    <span class="md-ellipsis">
      
        Base Conda Environment
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#special-note-on-mpi4py" class="md-nav__link">
    <span class="md-ellipsis">
      
        Special Note on mpi4py
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#install-soconda" class="md-nav__link">
    <span class="md-ellipsis">
      
        Install soconda
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Install soconda">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example-local-system" class="md-nav__link">
    <span class="md-ellipsis">
      
        Example: Local System
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-nersc" class="md-nav__link">
    <span class="md-ellipsis">
      
        Example: NERSC
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#running-tests" class="md-nav__link">
    <span class="md-ellipsis">
      
        Running Tests
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#installing-a-jupyter-kernel-for-external-jupyter-server" class="md-nav__link">
    <span class="md-ellipsis">
      
        Installing a Jupyter Kernel for external Jupyter server
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#customizing-an-environment" class="md-nav__link">
    <span class="md-ellipsis">
      
        Customizing an Environment
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deleting-an-environment" class="md-nav__link">
    <span class="md-ellipsis">
      
        Deleting an Environment
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#advanced-details" class="md-nav__link">
    <span class="md-ellipsis">
      
        Advanced Details
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Advanced Details">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pixell" class="md-nav__link">
    <span class="md-ellipsis">
      
        Pixell
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#libactpol-moby2" class="md-nav__link">
    <span class="md-ellipsis">
      
        Libactpol / Moby2
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#so3g" class="md-nav__link">
    <span class="md-ellipsis">
      
        So3g
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#toast" class="md-nav__link">
    <span class="md-ellipsis">
      
        TOAST
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
                



  


              
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="creating-a-simons-observatory-environment">Creating a Simons Observatory Environment</h1>
<p>The install script takes options to specify the location of the base environment
(if it is not already activated) and the name (or full path) of the environment
to create. It also allows specifying a central location to install the
modulefile:</p>
<pre><code>./soconda.sh -h
    Usage:  ./soconda.sh
    [-c &lt;directory in config to use for options&gt;]
    [-e &lt;environment, either name or full path&gt;]
    [-b &lt;conda base install (if not activated)&gt;]
    [-v &lt;version (git version used by default)&gt;]
    [-m &lt;modulefile dir (default is &lt;env&gt;/modulefiles)&gt;]
    [-i &lt;file with modulefile commands to load dependencies&gt; ]
</code></pre>
<hr />
<p><strong>NOTE</strong></p>
<p>Running the <code>soconda.sh</code> script will create log files in the current directory.
Consider running the command from within a temporary build directory to avoid
clutter.</p>
<hr />
<h2 id="base-conda-environment">Base Conda Environment</h2>
<p>If you already have a conda-forge or micromamba base environment, install <code>conda-build</code>
and <code>conda-verify</code> package to base environment.</p>
<pre><code>conda update -n base --yes --all conda
conda install -n base --yes --all conda-build conda-verify
</code></pre>
<p>Also, you should consider setting the "solver" in the base environment
to use <code>libmamba</code>. To use <code>libmamba</code> solver see
<a href="https://www.anaconda.com/blog/a-faster-conda-for-a-growing-community">this</a> article.
This will greatly speed up the dependency resolution
calculation.</p>
<p>For new installation run following script to install miniforge</p>
<pre><code>./tools/bootstrap_base "$HOME/miniforge3"
</code></pre>
<p>This will intall conda to <code>$HOME/miniforge3</code> directory.
It will set conda-forge as default channel and use <code>libmamba</code> as default solver.
After the installation you need to re-login or start a new terminal to initialize conda.</p>
<p>After installing an <code>soconda</code> environment below, you will not need this step
since it is done by the generated modulefile.</p>
<h2 id="special-note-on-mpi4py">Special Note on mpi4py</h2>
<p>By default, the conda package for mpi4py will be installed. This should work
well for stand-alone workstations or single nodes. If you have a cluster with a
customized MPI compiler, then set the <code>MPICC</code> environment variable to the MPI C
compiler before running <code>soconda.sh</code>. That will cause the mpi4py package to
be built using your system MPI compiler.</p>
<h2 id="install-soconda">Install soconda</h2>
<h3 id="example-local-system">Example:  Local System</h3>
<p>This installation could install <code>soconda</code> to your local computer and any cluster.</p>
<p>Clone soconda repo</p>
<pre><code>git clone git@github.com:simonsobs/soconda.git
cd soconda
</code></pre>
<p>Run the <code>soconda.sh</code> script</p>
<pre><code>export MAKEFLAGS='-j 4'
bash soconda.sh -e soconda -c default
</code></pre>
<p>This will create a new environment <code>soconda_xxx.x.x</code> with version number as suffix
using <code>default</code> configuration. <a href="#customizing-an-environment">More details on configuration.</a>
(The <code>MAKEFLAGS</code> doesn't seem to have any effect.)
If you want to specify a conda base directory add <code>-b "$HOME/miniforge3"</code> argument to <code>soconda.sh</code>.</p>
<p>You could find out the name of new created environment with</p>
<pre><code>conda env list
</code></pre>
<p>Then you can now activate the environment with</p>
<pre><code>conda activate soconda_xxx.x.x
</code></pre>
<p>If running on a Linux desktop that uses wayland, you also need to install the <code>qt-wayland</code> package</p>
<pre><code>conda install qt-wayland
</code></pre>
<p>If running on server, start jupyterlab listening on port <code>12345</code> with command</p>
<pre><code>cd /path/to/project
nohup jupyter-lab --no-browser --port=12345 &amp;&gt; jupyter.log &amp;
</code></pre>
<p>To list current running jupyter server:</p>
<pre><code>jupyter server list
</code></pre>
<p>To connect to jupyterlab running on server, start SSH tunnel from your laptop/desktop:</p>
<pre><code>ssh -N -L 12345:localhost:12345 server_domain_or_ip
</code></pre>
<p>Then you can connect to jupyterlab with link provided by command <code>jupyter server list</code>.</p>
<p>To stop jupyterlab listenging on port 12345:</p>
<pre><code>jupyter server stop 12345
</code></pre>
<h3 id="example-nersc">Example:  NERSC</h3>
<p>At NERSC, the default provided python is from Anaconda, and does not work well
for our needs. Instead, we have a conda-forge base system installed in our
project software directory:</p>
<pre><code>source /global/common/software/sobs/perlmutter/conda_base/etc/profile.d/conda.sh
conda activate base
</code></pre>
<p>Now we can either install a shared software environment or use this base
environment to build a conda environment in a personal directory. If you are
installing to a shared software environment, you should do that as the project
account and follow a specific naming convention which is beyond the scope of
this document. If you wanted to install these tools to your home directory you
could do:</p>
<pre><code>mkdir -p ~/conda_envs
./soconda.sh -e ~/conda_envs/soconda -m ~/conda_envs/modulefiles
</code></pre>
<p>And then load the module:</p>
<pre><code>module use ~/conda_envs/modulefiles
module avail
module load soconda/XXXXXX
</code></pre>
<h2 id="running-tests">Running Tests</h2>
<p>After loading an <code>soconda</code> environment, you can run some tests with:</p>
<pre><code>./run_tests.sh
</code></pre>
<h2 id="installing-a-jupyter-kernel-for-external-jupyter-server">Installing a Jupyter Kernel for external Jupyter server</h2>
<p>After loading an soconda module or activate socond conda environment the first time, you can run (once) the included script:</p>
<pre><code>soconda_jupyter.sh
</code></pre>
<p>This will install a kernel file to <code>~/.local/share/jupyter/kernels/soconda-xxxxx</code> so that external jupyter server
knows how to launch a kernel using this python stack.</p>
<h2 id="customizing-an-environment">Customizing an Environment</h2>
<p>When running <code>soconda.sh</code>, the system configuration to use can be specified
with the <code>-c</code> option. This should be the name of the configuration subdirectory
with the "config" top-level directory. If not specified, the "default" config
is used. If you want to dramatically change the package versions / content of
an <code>soconda</code> stack, just load the existing <code>base</code> conda environment, copy one
of the configs to a new name and edit the three lists of packages
(<code>packages_[conda|pip|local].txt</code>) to exclude certain packages or add extras.
Then install it as usual.</p>
<h2 id="deleting-an-environment">Deleting an Environment</h2>
<p>The <code>soconda</code> environments are self contained and you can delete them by
running command <code>conda remove --name envname --all</code> or <code>conda remove -p /base_dir/envs/name --all</code>.
Or directly removing the <code>&lt;base dir&gt;/envs/&lt;name of env&gt;</code> directory.
You can optionally delete the modulefile and the versioned pip
local directory in your home directory.
If you installed a jupyter kernel, remove kernel file in <code>~/.local/share/jupyter/kernels/</code>
with matching soconda version.
If you have multiple soconda environment and deleted wrong kernel file, you can always
<a href="#installing-a-jupyter-kernel">recreate it</a>.</p>
<h2 id="advanced-details">Advanced Details</h2>
<p>The compiled packages assume the use of the conda compilers for consistency with
the libraries installed through conda. If you want to change those compilers you
can remove the <code>compilers</code> conda package and manually set the <code>CC</code>, <code>CXX</code>, and <code>FC</code>
environment variables. Full warning that this may cause problems with threading
interfaces, thread pinning, etc, when building packages that use OpenMP.</p>
<h3 id="pixell">Pixell</h3>
<p>We currently build pixell from source with the conda compilers for consistency,
rather than installing the wheel.</p>
<h3 id="libactpol-moby2">Libactpol / Moby2</h3>
<p>There are three conda recipes for <code>libactpol_deps</code>, <code>libactpol</code>, and <code>moby2</code>.
These are using git hashes that are either the latest or a branch / version
recommended for S.O. use.</p>
<h3 id="so3g">So3g</h3>
<p>This package is currently installed from the wheel, but the conda package is
being tested (using boost from conda-forge).</p>
<h3 id="toast">TOAST</h3>
<p>This package is currently built from source by default, with dependencies
installed through conda. When toast-3.0 arrives in the conda-forge toast
feedstock, it should be added back to <code>packages_conda.txt</code>. It should also work
to install the python wheel package by commenting out the toast entry in
<code>packages_local.txt</code> and adding it to <code>packages_pip.txt</code>.</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "..", "features": ["navigation.expand", "navigation.path"], "search": "../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.79ae519e.min.js"></script>
      
    
  </body>
</html>